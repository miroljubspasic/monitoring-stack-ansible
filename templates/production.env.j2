# Monitoring Stack - Production Environment Configuration
# Generated by Ansible from vault variables
# DO NOT EDIT THIS FILE DIRECTLY - Edit group_vars/monitoring_hosts/vault.yml instead

# Docker Compose Files Configuration
# Automatically load multiple compose files (colon-separated)
# Format: COMPOSE_FILE=file1.yaml:file2.yaml:file3.yaml
COMPOSE_FILE={{ vault_compose_file | default('docker-compose.yaml:docker-compose.checkmk.yaml:docker-compose.uptime-kuma.yaml') }}

# Application Ports
APP_PORT=80
APP_SECURE_PORT=443

# Caddy Configuration
CADDY_DEBUG_LEVEL=warn

# Registry Configuration
REGISTRY_IMAGE=registry:3
REGISTRY_HOSTNAME={{ vault_registry_hostname }}
REGISTRY_PORT=5000

# Node Exporter Configuration
NODEEXPORTER_IMAGE=prom/node-exporter:v1.10.2

# Prometheus Configuration
PROMETHEUS_IMAGE=prom/prometheus:v3.7.2
PROMETHEUS_HOSTNAME={{ vault_prometheus_hostname }}
PROMETHEUS_ADMIN_PASSWORD='{{ vault_prometheus_admin_password }}'

# cAdvisor Configuration
CADVISOR_IMAGE=zcube/cadvisor


# Grafana Configuration
GRAFANA_IMAGE=grafana/grafana:latest
GRAFANA_ADMIN_USER={{ vault_grafana_admin_user | default('admin') }}
GRAFANA_ADMIN_PASSWORD={{ vault_grafana_admin_password }}
GRAFANA_HOSTNAME={{ vault_grafana_hostname }}

# MongoDB Configuration
MONGODB_IMAGE=mongo:7.0

# Graylog DataNode Configuration
DATANODE_IMAGE=graylog/graylog-datanode:6.3

# Graylog Configuration
GRAYLOG_IMAGE=graylog/graylog:6.3
GRAYLOG_HOSTNAME={{ vault_graylog_hostname }}
GRAYLOG_PASSWORD_SECRET={{ vault_graylog_password_secret }}
GRAYLOG_ROOT_PASSWORD_SHA2={{ vault_graylog_root_password_sha2 }}

# OpenSearch Configuration
OPENSEARCH_IMAGE=opensearchproject/opensearch:2.12.0
OPENSEARCH_JAVA_OPTS=-Xms1g -Xmx1g
OPENSEARCH_ADMIN_PASSWORD={{ vault_opensearch_admin_password }}

# Uptime Kuma Configuration
UPTIME_KUMA_IMAGE={{ vault_uptime_kuma_image | default('louislam/uptime-kuma:latest') }}
UPTIME_KUMA_HOSTNAME={{ vault_uptime_kuma_hostname }}

# CheckMK Configuration
CHECKMK_IMAGE={{ vault_checkmk_image | default('checkmk/check-mk-raw:2.4.0-latest') }}
CHECKMK_HOSTNAME={{ vault_checkmk_hostname }}
CHECKMK_SITE_ID={{ vault_checkmk_site_id | default('monitoring') }}
CHECKMK_ADMIN_PASSWORD={{ vault_checkmk_admin_password }}

# Email Notification Configuration for CheckMK
MAIL_RELAY_HOST={{ vault_mail_relay_host | default('smtp.gmail.com') }}
MAIL_RELAY_PORT={{ vault_mail_relay_port | default('587') }}
MAIL_FROM={{ vault_mail_from }}
NOTIFICATION_EMAIL={{ vault_notification_email }}
MAIL_USERNAME={{ vault_mail_username }}
MAIL_PASSWORD={{ vault_mail_password }}

# Data Directories (production paths)
CADDY_DATA={{ project_root }}
REGISTRY_DATA={{ project_root }}
PROMETHEUS_DATA={{ project_root }}
MONGODB_DATA={{ project_root }}
GRAYLOG_DATA={{ project_root }}
OPENSEARCH_DATA={{ project_root }}
UPTIME_KUMA_DATA={{ project_root }}
CHECKMK_DATA={{ project_root }}
